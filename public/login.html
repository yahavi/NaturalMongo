<!DOCTYPE html>
<html>

<head>
    <title>NaturalMongo</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="//code.jquery.com/jquery-latest.min.js"
            type="text/javascript"></script>

</head>

<body>

    IP: <input type="text" title="ip" id="ip_input">
    (Required)<br>i.e: 159.122.221.134<br><br>
    Port: <input type="number" title="port" id="port_input">
    (Optional, default: 27017)<br><br>
    Username: <input type="text" title="username" id="username_input">
    (Optional if your DB is not protected by username and password)<br>
    i.e: alpha <br><br>
    Password: <input type="text" title="password" id="password_input">
    (Optional if your DB is not protected by username and password)<br>
    i.e: alpha123 <br><br>
    DB: <input type="text" title="DB" id="db_name_input">
    (Optional if your user is root)<br>
    i.e: restaurants <br><br>
    <button id="login">Login</button><br>
    <p title="response" id="response_from_server"></p>
<script>

    $(document).ready(function() {

        $("#login").click(function(){
            var ip = $("#ip_input").val();
            var port = $("#port_input").val();
            var username = $("#username_input").val();
            var password = $("#password_input").val();
            var dbName = $("#db_name_input").val();

            if (ip){
                if (!port) port = 27017;
                var login = new Login(ip, port, username, password, dbName);
                $.ajax({
                    type: "POST",
                    url: '/login',
                    dataType: 'json',
                    data: JSON.stringify(login),
                    complete: function (data) {
                        if (200 == data.status){
                            $('body').html(data.responseText);
                        } else if (201 == data.status){
                            $("#response_from_server").text(data.responseText);
                        }
                    }
                });
            }
        });

        var Login = function(ip, port, username, password, dbName){
            this.ip = ip.trim();
            this.port = port;
            this.username = username.trim();
            this.password = password.trim();
            this.dbName = dbName.trim();
        }
    }); // $(document).ready

</script>
</body>
</html>